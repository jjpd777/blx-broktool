{"version":3,"sources":["./src/app/whatsapp/whatsapp.page.html","./src/app/whatsapp/whatsapp-routing.module.ts","./src/app/whatsapp/whatsapp.module.ts","./src/app/whatsapp/whatsapp.page.scss","./src/app/whatsapp/whatsapp.page.ts"],"names":[],"mappings":"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","file":"whatsapp-whatsapp-module-es5.js","sourcesContent":["module.exports = \"<app-main-header></app-main-header>\\n\\n<ion-content>\\n  <div class=\\\"row\\\" style=\\\"background-color: #67adc9; padding: 2vw\\\">\\n    <div class=\\\"col-2 col-sm-2 col-md-2 col-lg-2 align-self-center\\\">\\n      <ion-icon style=\\\"color: white;float: left\\\" size=\\\"large\\\" name=\\\"arrow-back\\\" (click)=\\\"goBack()\\\"></ion-icon>\\n    </div>\\n    <div class=\\\"col-8 col-sm-8 col-md-8 col-lg-8 align-self-center\\\" style=\\\"margin: 1vw;\\\">\\n      <p class=\\\"header__subtitle\\\" style=\\\"margin-bottom: 0px;text-align: left;color: white; font-weight: bold\\\">{{whatsappAVer}}</p>\\n    </div>\\n  </div>\\n  <div class=\\\"container\\\" style=\\\"padding-top: 2vw;\\\">\\n    <!--Propiedades-->\\n    <div class=\\\"row d-flex justify-content-center\\\">\\n      <div class=\\\"col-11 col-sm-11 col-md-11 col-lg-11 align-self-center\\\">\\n        <h4>Mensaje</h4>\\n        <div class=\\\"form-group\\\">\\n          <textarea rows=\\\"10\\\" class=\\\"form-control input__text\\\" [(ngModel)]=\\\"mensaje.texto\\\"></textarea>\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <p class=\\\"ion-no-margin\\\">Contacto</p>\\n          <input type=\\\"text\\\" class=\\\"form-control input__text\\\" placeholder=\\\"Nombre - Teléfono\\\" [(ngModel)]=\\\"mensaje.contacto\\\" />\\n          <input\\n                  style=\\\"margin-top: 2vw;border-radius: 15px;\\\"\\n                  type=\\\"button\\\"\\n                  class=\\\"form-control button__siguiente\\\"\\n                  value=\\\"Buscar Contacto\\\"\\n                  (click)=\\\"buscarContacto()\\\"\\n          />\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"row d-flex justify-content-center\\\" style=\\\"margin-top: 2vw\\\">\\n      <div class=\\\"col-9 col-sm-9 col-md-9 col-lg-9 align-self-center\\\">\\n        <div class=\\\"form-group\\\">\\n          <input\\n                  type=\\\"button\\\"\\n                  class=\\\"form-control button__siguiente\\\"\\n                  value=\\\"Enviar Mensaje\\\"\\n                  (click)=\\\"enviarWhatsapp()\\\"\\n          />\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WhatsappPage } from './whatsapp.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WhatsappPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WhatsappPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WhatsappPageRoutingModule } from './whatsapp-routing.module';\n\nimport { WhatsappPage } from './whatsapp.page';\nimport {SharedModule} from \"../shared/shared.module\";\nimport {FormularioPageRoutingModule} from \"../formulario/formulario-routing.module\";\nimport {BsDatepickerModule} from \"ngx-bootstrap\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    BsDatepickerModule,\n    WhatsappPageRoutingModule\n  ],\n  declarations: [WhatsappPage]\n})\nexport class WhatsappPageModule {}\n","module.exports = \".button__siguiente {\\n  text-align: center;\\n  border-radius: 50px;\\n  background-color: #094f72;\\n  color: white;\\n  font-weight: 700;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvd2hhdHNhcHAvQzpcXEJpdEJ1Y2tldFxcQXBwc1xcYnJva2Vycy1uZXR3b3JrLWlvc1xcYnJva2Vycy1uZXR3b3JrL3NyY1xcYXBwXFx3aGF0c2FwcFxcd2hhdHNhcHAucGFnZS5zY3NzIiwic3JjL2FwcC93aGF0c2FwcC93aGF0c2FwcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3doYXRzYXBwL3doYXRzYXBwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idXR0b25fX3NpZ3VpZW50ZSB7XHJcbiAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDk0ZjcyO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG59XHJcbiIsIi5idXR0b25fX3NpZ3VpZW50ZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzA5NGY3MjtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogNzAwO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport {LoadingController, NavController} from \"@ionic/angular\";\nimport {HTTP} from \"@ionic-native/http/ngx\";\nimport {RootSettingsService} from \"../services/rs.service\";\nimport { Contacts, Contact, ContactField, ContactName } from '@ionic-native/contacts/ngx';\n\n\n@Component({\n  selector: 'app-whatsapp',\n  templateUrl: './whatsapp.page.html',\n  styleUrls: ['./whatsapp.page.scss'],\n})\nexport class WhatsappPage implements OnInit {\n\n  constructor(private navCtrl: NavController,private http: HTTP,public loadingController: LoadingController,private rs:RootSettingsService,private contacts: Contacts) { }\n\n  ngOnInit() {\n  }\n\n  whatsappAVer:any;\n  mensajeAVer:any;\n  propiedadWhatsapp:any;\n\n  nombre_contacto:any;\n  telefono_contacto:any;\n\n  cliente:any;\n  propiedad:any;\n  ionViewDidEnter()\n  {\n    this.whatsappAVer = window.localStorage.getItem(\"whatsappAVer\")\n    this.mensajeAVer = window.localStorage.getItem(\"mensajeAVer\")\n    this.propiedadWhatsapp = JSON.parse(window.localStorage.getItem(\"propiedad_a_ver\"))\n\n    var whatscliente = window.localStorage.getItem(\"whatscliente\")\n    var whatspropiedad = window.localStorage.getItem(\"whatspropiedad\")\n\n    if(whatscliente==\"si\")\n    {\n      this.cliente = JSON.parse(window.localStorage.getItem(\"cliente_a_ver\"))\n      this.nombre_contacto = this.cliente.nombre;\n      this.telefono_contacto = this.cliente.telefono;\n\n      this.mensaje.contacto = \"\"+this.nombre_contacto+\" - \"+this.telefono_contacto;\n\n    }\n    if(whatspropiedad==\"si\")\n    {\n      this.propiedad = JSON.parse(window.localStorage.getItem(\"propiedad_a_ver\"))\n\n      this.nombre_contacto = this.propiedad.nombre;\n      this.telefono_contacto = this.propiedad.celular;\n\n      this.mensaje.contacto = \"\"+this.nombre_contacto+\" - \"+this.telefono_contacto;\n\n    }\n\n    console.log(\"whatscliente\",whatscliente)\n    console.log(\"whatspropiedad\",whatspropiedad)\n\n\n\n\n    if(this.whatsappAVer ==\"Citas\")\n    {\n      console.log(\"this.propiedadWhatsapp\",this.propiedadWhatsapp)\n      this.mensaje.texto =\"Datos de la Propiedad: Nombre:\"+this.propiedadWhatsapp.nombre+\" - Tipo:\"+this.propiedadWhatsapp.tipo+\" - Precio:$\"+this.propiedadWhatsapp.precio+\" - Notas:\"+this.propiedadWhatsapp.notas;\n    }\n    else {\n      this.mensaje.texto =this.mensajeAVer;\n    }\n\n\n\n    console.log(\"this.whatsappAVer\",this.whatsappAVer)\n  }\n\n  mensaje:any={\n    texto:\"\",\n    contacto:\"\"\n  }\n\n  buscarContacto()\n  {\n    this.telefono_contacto=\"\";\n    this.contacts.pickContact().then(contacto=>{\n      console.log(\"Contacto\",contacto)\n\n      this.nombre_contacto = contacto.name.givenName + \" \" + contacto.name.familyName;\n\n\n      for(let tel of contacto.phoneNumbers) {\n        if(tel.type == \"mobile\")\n        {\n          this.telefono_contacto = tel.value\n        }\n        else {\n          if(tel.type == \"home\")\n          {\n            this.telefono_contacto = tel.value\n          }\n          else {\n            if(tel.type == \"work\")\n            {\n              this.telefono_contacto = tel.value\n            }\n          }\n        }\n      }\n      if(this.telefono_contacto == \"\" && contacto.phoneNumbers.length>0)\n      {\n        this.telefono_contacto = contacto.phoneNumbers[0].value;\n      }\n\n      console.log(\"this.telefono_contacto\",this.telefono_contacto)\n\n      if(this.telefono_contacto == \"\")\n      {\n        alert(\"Este contacto no tiene un teléfono movil asignado.\")\n      }\n      else {\n        this.mensaje.contacto = \"\"+this.nombre_contacto+\" - \"+this.telefono_contacto;\n      }\n\n    });\n  }\n\n  goBack()\n  {\n    this.navCtrl.pop();\n  }\n\n  enviarWhatsapp()\n  {\n    var link = \"\";\n\n    if(this.telefono_contacto[0]!=\"+\")\n    {\n      this.telefono_contacto = \"+52\"+this.telefono_contacto;\n    }\n    link = \"whatsapp://send?phone=\"+this.telefono_contacto+\"&text=Estimad@ \"+this.nombre_contacto+\", ¡Gracias por la confianza! \"+this.mensaje.texto;\n\n    window.open(encodeURI(link), '_system');\n  }\n\n}\n"],"sourceRoot":""}